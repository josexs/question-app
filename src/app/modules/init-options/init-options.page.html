<ion-header class="ion-no-border">
  <ion-toolbar mode="ios" color="primary">
    <ion-title class="ion-text-center"> Questions App </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-row class="animate__animated animate__slideInUp animate__fast">
    <ion-col size="12" sizeLg="8" offsetLg="2">
      <ng-container *ngIf="options.state === 'todo'">
        <h2>Opciones</h2>
        <ion-card color="warning">
          <ion-card-content color="warning" class="ion-no-padding">
            <ion-item color="warning" lines="none">
              <ion-icon name="warning" slot="start"></ion-icon>
              <ion-label class="ion-text-wrap">
                En el modo seleccionado hay {{ totalQuestions }} preguntas disponibles
              </ion-label>
            </ion-item>
          </ion-card-content>
        </ion-card>
        <ion-item lines="none">
          <ion-label>Tipo de juego</ion-label>
          <ion-select
            slot="end"
            value="2"
            multiple="false"
            placeholder="Seleciona tipo"
            [(ngModel)]="options.type"
            (ionChange)="getTotalOfQuestionOfType()"
          >
            <ion-select-option *ngFor="let type of typesOfGame" [value]="type.value">
              {{ type.name }}
            </ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label>Duracion Partida (min)</ion-label>
          <ion-select
            slot="end"
            value="2"
            multiple="false"
            placeholder="Selecciona duracion partida"
            [(ngModel)]="options.durationGame"
          >
            <ion-select-option value="15">15 minutos</ion-select-option>
            <ion-select-option value="30">30 minutos</ion-select-option>
            <ion-select-option value="30">60 minutos</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label>Duracion Pregunta (seg)</ion-label>
          <ion-select
            slot="end"
            value="2"
            multiple="false"
            placeholder="Selecciona duracion pregunta"
            [(ngModel)]="options.durationQuestion"
          >
            <ion-select-option value="5">5 segundos</ion-select-option>
            <ion-select-option value="10">10 segundos</ion-select-option>
            <ion-select-option value="15">15 segundos</ion-select-option>
            <ion-select-option value="20">20 segundos</ion-select-option>
            <ion-select-option value="25">25 segundos</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item lines="none">
          <ion-label>Nº participantes</ion-label>
          <ion-select
            slot="end"
            value="2"
            multiple="false"
            placeholder="Selecciona participantes"
            [(ngModel)]="options.numberParticipants"
            (ionChange)="changeNumberOfParticipants()"
          >
            <ion-select-option value="2">2</ion-select-option>
            <ion-select-option value="4">4</ion-select-option>
            <ion-select-option value="6">6</ion-select-option>
            <ion-select-option value="8">8</ion-select-option>
            <ion-select-option value="10">10</ion-select-option>
          </ion-select>
        </ion-item>
        <br />

        <init-options-participants [participants]="options.numberParticipants" (confirm)="saveInitOptions($event)" (simulate)="simulateOptions()"></init-options-participants>
        
      </ng-container>

      <ng-container *ngIf="options.state === 'resume'">
        <ion-card>
          <ion-card-content>
            <ion-item lines="none">
              <ion-label><strong>Tipo de juego</strong></ion-label>
              <ion-label class="ion-text-right">{{ options.type | typePipe }}</ion-label>
            </ion-item>

            <ion-item lines="none">
              <ion-label><strong>Duracion Partida</strong></ion-label>
              <ion-label class="ion-text-right">{{ options.durationGame }} minutos</ion-label>
            </ion-item>

            <ion-item lines="none">
              <ion-label><strong>Duracion Pregunta</strong></ion-label>
              <ion-label class="ion-text-right">{{ options.durationQuestion }} segundos</ion-label>
            </ion-item>

            <br />
            <h2>Participantes</h2>
            <ion-row>
              <ion-col size="6" *ngFor="let participant of shifts">
                <ion-item lines="none">
                  <ion-avatar slot="start">
                    <img src="assets/images/no-image.jpg" />
                  </ion-avatar>
                  <ion-label class="ion-text-wrap">
                    <ion-text>
                      <h3>{{ participant.name }}</h3>
                    </ion-text>
                    <p>{{ participant.gender | genderPipe }}</p>
                  </ion-label>
                </ion-item>
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-card>
        <br />
        <ion-button expand="block" (click)="startGame()">Empezar juego</ion-button>
        <br />
        <ion-button color="warning" expand="block" (click)="resetGame()">Resetear</ion-button>
      </ng-container>
    </ion-col>
  </ion-row>
</ion-content>
